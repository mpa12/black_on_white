import{_,f as p,U as m,r as f,o,c as a,a as i,h as x,w,e as v,i as n,l as d,m as b,F as k,g as F,q as y,t as g,k as A,p as B,d as S}from"./app-b67aaecc.js";const C={name:"ArticleSearch",data(){return{filters:[],selectedFilters:[],text:"",isAdmin:!1,showFilters:!1}},methods:{filterButton(){this.showFilters=!this.showFilters},loadFilters(){p.get("/api/article-type/").then(t=>{this.filters=t.data.data})},search(){let t=new CustomEvent("search",{detail:{selectedFilters:this.selectedFilters,text:this.text}});window.dispatchEvent(t)},async checkIsAdmin(){this.isAdmin=await m.isAdmin()}},mounted(){this.loadFilters(),this.checkIsAdmin()}},c=t=>(B("data-v-7d66bdd4"),t=t(),S(),t),I={class:"newses__search"},V={class:"w-100 d-flex align-items-center gap-2 justify-content-between"},M={class:"flex-grow-1"},U=c(()=>i("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"},null,-1)),z=[U],E=c(()=>i("button",{type:"submit"},"Найти",-1)),N={key:0,class:"d-flex flex-wrap gap-2 mt-2"},D=["value","id"],T=["for"];function j(t,s,q,L,l,r){const h=f("router-link");return o(),a("div",I,[i("form",{class:"d-flex flex-column",onSubmit:s[3]||(s[3]=A((...e)=>r.search&&r.search(...e),["prevent"]))},[i("div",V,[l.isAdmin?(o(),x(h,{key:0,class:"btn btn-primary",to:"/admin/articles/create"},{default:w(()=>[v("Добавить")]),_:1})):n("",!0),i("label",M,[d(i("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>l.text=e),type:"text",placeholder:"Введите название новости...",class:"w-100"},null,512),[[b,l.text]])]),(o(),a("svg",{onClick:s[1]||(s[1]=(...e)=>r.filterButton&&r.filterButton(...e)),width:"16",height:"16",fill:"currentColor",class:"bi bi-filter",viewBox:"0 0 16 16"},z)),E]),l.showFilters?(o(),a("div",N,[(o(!0),a(k,null,F(l.filters,e=>(o(),a("span",null,[d(i("input",{"onUpdate:modelValue":s[2]||(s[2]=u=>l.selectedFilters=u),type:"checkbox",class:"btn-check",value:e.id,id:e.id,autocomplete:"off",name:"selectedFilters"},null,8,D),[[y,l.selectedFilters]]),i("label",{class:"btn btn-outline-dark",for:e.id},g(e.title),9,T)]))),256))])):n("",!0)],32)])}const H=_(C,[["render",j],["__scopeId","data-v-7d66bdd4"]]);export{H as A};

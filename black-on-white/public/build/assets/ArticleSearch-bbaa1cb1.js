import{_ as u,f as p,U as m,r as f,o as a,c as o,a as i,h as x,w as b,e as w,i as n,l as c,m as v,F as k,g as F,q as y,t as A,k as g,p as B,d as S}from"./app-e9fbd619.js";const U={name:"ArticleSearch",data(){return{filters:[],selectedFilters:[],text:"",isAdmin:!1,showFilters:!1}},methods:{filterButton(){this.showFilters=!this.showFilters},loadFilters(){p.get("/api/article-type/").then(t=>{this.filters=t.data.data})},search(){let t=new CustomEvent("search",{detail:{selectedFilters:this.selectedFilters,text:this.text}});window.dispatchEvent(t)},async checkIsAdmin(){this.isAdmin=await m.isAdmin()}},mounted(){this.loadFilters(),this.checkIsAdmin()}},d=t=>(B("data-v-8a521bfb"),t=t(),S(),t),C={class:"newses__search"},V={class:"w-100 d-flex align-items-center gap-2 justify-content-between"},I={class:"flex-grow-1"},E=d(()=>i("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"},null,-1)),M=[E],P=d(()=>i("button",{type:"submit"},"Найти",-1)),z={key:0,class:"d-flex flex-wrap gap-2 mt-2"},L=["value","id"],N=["for"];function D(t,s,R,T,l,r){const h=f("router-link");return a(),o("div",C,[i("form",{class:"d-flex flex-column",onSubmit:s[3]||(s[3]=g((...e)=>r.search&&r.search(...e),["prevent"]))},[i("div",V,[l.isAdmin?(a(),x(h,{key:0,class:"btn btn-primary",to:"/admin/articles/create"},{default:b(()=>[w("Добавить")]),_:1})):n("",!0),i("label",I,[c(i("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>l.text=e),type:"text",placeholder:"Введите название новости...",class:"w-100"},null,512),[[v,l.text]])]),(a(),o("svg",{onClick:s[1]||(s[1]=(...e)=>r.filterButton&&r.filterButton(...e)),width:"16",height:"16",fill:"currentColor",class:"bi bi-filter",viewBox:"0 0 16 16"},M)),P]),l.showFilters?(a(),o("div",z,[(a(!0),o(k,null,F(l.filters,e=>(a(),o("span",null,[c(i("input",{"onUpdate:modelValue":s[2]||(s[2]=_=>l.selectedFilters=_),type:"checkbox",class:"btn-check",value:e.id,id:e.id,autocomplete:"off",name:"selectedFilters"},null,8,L),[[y,l.selectedFilters]]),i("label",{class:"btn btn-outline-dark",for:e.id},A(e.title),9,N)]))),256))])):n("",!0)],32)])}const q=u(U,[["render",D],["__scopeId","data-v-8a521bfb"]]);export{q as A};

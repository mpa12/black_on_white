import{_ as m,f as _,r as h,o as u,c as p,a as e,b as g,w as f,e as d,t as o,F as A,p as b,d as w}from"./app-51fe443e.js";import{m as n}from"./moment-with-locales-723ca905.js";import"./_commonjsHelpers-87174ba5.js";const M={name:"AdminMessagesView",data(){return{message:[],createdAt:""}},mounted(){this.loadMessage()},methods:{loadMessage(){_.get("http://localhost:8080/api/message/read/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{this.message=t.data.data,this.changeCreatedAt(this.message.created_at)})},changeCreatedAt(t){const i=new Date(t);let s=n.duration(n().diff(i));if(s.asMinutes()<60){let r=new Date().getTime()-i.getTime();r=new Date(r).getMinutes(),this.createdAt=r+" минут назад"}else s.asHours()<24?this.createdAt=n().subtract(s).format("HH часов назад"):s.asDays()<2?this.createdAt=n().subtract(s).format("Вчера в HH:mm"):(n.locale("ru"),this.createdAt=n(i).format("D MMMM в HH:mm YYYY"))}}},l=t=>(b("data-v-371d1198"),t=t(),w(),t),y={class:"title my-3 d-flex justify-content-start align-items-baseline gap-3"},v={class:"m-0"},x={class:"fst-italic text-secondary"},V={class:"message-info-wrapper"},H={class:"table table-borderless table-hover"},D=l(()=>e("th",null,"Имя",-1)),k=l(()=>e("th",null,"Телефон",-1)),I=l(()=>e("th",null,"E-mail",-1)),S=l(()=>e("th",null,"Отправлено",-1)),B={class:"message-info-wrapper my-3"},C=l(()=>e("h5",null,"Сообщение",-1));function E(t,i,s,r,a,P){const c=h("router-link");return u(),p(A,null,[e("div",y,[g(c,{to:"/admin/messages",class:"btn btn-outline-secondary"},{default:f(()=>[d("Назад")]),_:1}),e("h3",v,[d("Просмотр сообщения от пользователя: "),e("span",x,o(a.message.name),1)])]),e("div",V,[e("table",H,[e("tbody",null,[e("tr",null,[D,e("td",null,o(a.message.name),1)]),e("tr",null,[k,e("td",null,o(a.message.phone),1)]),e("tr",null,[I,e("td",null,o(a.message.email),1)]),e("tr",null,[S,e("td",null,o(a.createdAt),1)])])])]),e("div",B,[C,e("p",null,o(a.message.message),1)])],64)}const T=m(M,[["render",E],["__scopeId","data-v-371d1198"]]);export{T as default};

import{T as m}from"./Toast-844761a0.js";import{_,r as u,o as l,c as i,h,i as d,a as t,k as f,l as w,m as b,t as v,F as x,p as y,d as k}from"./app-b67aaecc.js";const P={name:"ResetPassword",components:{Toast:m},data(){return{email:null,errors:[],success:!1}},methods:{resetPassword(){axios.post("/api/auth/reset-password",{email:this.email}).then(()=>{this.success=!0,this.email=null,this.errors=[]}).catch(e=>{if(console.log(e),e.response.status===422){let s=JSON.parse(e.request.responseText).errors;for(const r in s)s[r]=s[r][0];this.errors=s}})}}},n=e=>(y("data-v-723e2bd4"),e=e(),k(),e),S={class:"reset-password-section"},g=n(()=>t("h1",{class:"mb-4"},"Восстановление пароля",-1)),B={class:"mb-3"},I=n(()=>t("label",{for:"email",class:"form-label"},"E-mail",-1)),T={key:0,class:"text-danger"},E=n(()=>t("button",{type:"submit",class:"btn btn-circle mb-4"},"Восстановить",-1));function N(e,s,r,R,o,c){const p=u("toast");return l(),i(x,null,[o.success?(l(),h(p,{key:0,title:"На почту отправлено письмо"})):d("",!0),t("section",S,[t("form",{class:"reset-password-wrapper",onSubmit:s[1]||(s[1]=f((...a)=>c.resetPassword&&c.resetPassword(...a),["prevent"]))},[g,t("div",B,[I,w(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.email=a),type:"text",class:"form-control",id:"email",placeholder:"E-mail"},null,512),[[b,o.email]]),o.errors.hasOwnProperty("email")?(l(),i("small",T,v(o.errors.email),1)):d("",!0)]),E],32)])],64)}const D=_(P,[["render",N],["__scopeId","data-v-723e2bd4"]]);export{D as default};

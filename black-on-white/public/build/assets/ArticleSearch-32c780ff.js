import{_ as u,f as r,r as _,o,c as n,a as l,h as m,w as f,e as p,i as x,l as c,m as v,F as b,g as k,q as w,t as A,k as g,p as y,d as F}from"./app-84f60ac4.js";const L={name:"ArticleSearch",methods:{filterButton(){let e=document.querySelector(".filters");e.classList.contains("d-flex")?(e.classList.remove("d-flex"),e.classList.add("d-none")):(e.classList.add("d-flex"),e.classList.remove("d-none"))},loadFilters(){r.get("/api/article-type/").then(e=>{this.filters=e.data.data})},search(){let e=new CustomEvent("search",{detail:{selectedFilters:this.selectedFilters,text:this.text}});window.dispatchEvent(e)},checkIsAdmin(){const e=localStorage.getItem("token");if(!e){this.isAdmin=!1;return}r.get("/api/auth/is-admin",{headers:{Authorization:`Bearer ${e}`}}).then(t=>{this.isAdmin=!!t.data}).catch(t=>{console.log(t),this.isAdmin=!1})}},data(){return{filters:[],selectedFilters:[],text:"",isAdmin:!1}},mounted(){this.loadFilters(),this.checkIsAdmin()}},S=e=>(y("data-v-19b1a818"),e=e(),F(),e),U={class:"newses__search"},B={class:"w-100 d-flex align-items-center gap-2 justify-content-between"},V={class:"flex-grow-1"},C=S(()=>l("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"},null,-1)),P=[C],E={class:"filters d-none flex-wrap gap-2 mt-2"},I=["value","id"],z=["for"];function M(e,t,R,N,a,i){const d=_("router-link");return o(),n("div",U,[l("form",{class:"d-flex flex-column",onSubmit:t[4]||(t[4]=g((...s)=>i.search&&i.search(...s),["prevent"]))},[l("div",B,[a.isAdmin?(o(),m(d,{key:0,class:"btn btn-primary",to:"/admin/articles/create"},{default:f(()=>[p("Добавить")]),_:1})):x("",!0),l("label",V,[c(l("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.text=s),type:"text",placeholder:"Введите название новости...",class:"w-100"},null,512),[[v,a.text]])]),(o(),n("svg",{onClick:t[1]||(t[1]=(...s)=>i.filterButton&&i.filterButton(...s)),width:"16",height:"16",fill:"currentColor",class:"bi bi-filter",viewBox:"0 0 16 16"},P)),l("button",{type:"submit",onClick:t[2]||(t[2]=(...s)=>i.search&&i.search(...s))},"Найти")]),l("div",E,[(o(!0),n(b,null,k(a.filters,s=>(o(),n("span",null,[c(l("input",{"onUpdate:modelValue":t[3]||(t[3]=h=>a.selectedFilters=h),type:"checkbox",class:"btn-check",value:s.id,id:s.id,autocomplete:"off",name:"selectedFilters"},null,8,I),[[w,a.selectedFilters]]),l("label",{class:"btn btn-outline-dark",for:s.id},A(s.title),9,z)]))),256))])],32)])}const D=u(L,[["render",M],["__scopeId","data-v-19b1a818"]]);export{D as A};

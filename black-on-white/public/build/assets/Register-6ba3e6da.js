import{T as h}from"./Toast-099127ad.js";import{_ as f,r as w,o as l,c as n,h as b,i,a as t,k as g,l as m,m as d,t as p,F as y,p as x,d as v}from"./app-84f60ac4.js";const k={name:"Register",components:{Toast:h},data(){return{name:null,email:null,password:null,errors:[],created:!1}},methods:{register(){axios.post("/api/auth/register",{name:this.name,email:this.email,password:this.password}).then(()=>{this.created=!0,this.name=null,this.email=null,this.password=null,this.errors=[]}).catch(o=>{if(console.log(o),o.response.status===422){let e=JSON.parse(o.request.responseText).errors;for(const c in e)e[c]=e[c][0];this.errors=e}})}}},a=o=>(x("data-v-188d70d1"),o=o(),v(),o),P={class:"register-section"},U=a(()=>t("h1",{class:"mb-4"},"Регистрация",-1)),V={class:"mb-3"},S=a(()=>t("label",{for:"name",class:"form-label"},"Имя пользователя",-1)),E={key:0,class:"text-danger"},R={class:"mb-3"},B=a(()=>t("label",{for:"email",class:"form-label"},"E-mail",-1)),I={key:0,class:"text-danger"},O={class:"mb-3"},T=a(()=>t("label",{for:"password",class:"form-label"},"Пароль",-1)),N={key:0,class:"text-danger"},A=a(()=>t("button",{type:"submit",class:"btn btn-circle mb-4"},"Зарегистрироваться",-1));function C(o,e,c,D,s,_){const u=w("toast");return l(),n(y,null,[s.created?(l(),b(u,{key:0,title:"Аккаунт успешно создан"})):i("",!0),t("section",P,[t("form",{class:"register-wrapper",onSubmit:e[3]||(e[3]=g((...r)=>_.register&&_.register(...r),["prevent"]))},[U,t("div",V,[S,m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.name=r),type:"text",class:"form-control",id:"name",placeholder:"Имя пользователя"},null,512),[[d,s.name]]),s.errors.hasOwnProperty("name")?(l(),n("small",E,p(s.errors.name),1)):i("",!0)]),t("div",R,[B,m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.email=r),type:"text",class:"form-control",id:"email",placeholder:"E-mail"},null,512),[[d,s.email]]),s.errors.hasOwnProperty("email")?(l(),n("small",I,p(s.errors.email),1)):i("",!0)]),t("div",O,[T,m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s.password=r),type:"password",class:"form-control",id:"password",placeholder:"Пароль"},null,512),[[d,s.password]]),s.errors.hasOwnProperty("password")?(l(),n("small",N,p(s.errors.password),1)):i("",!0)]),A],32)])],64)}const M=f(k,[["render",C],["__scopeId","data-v-188d70d1"]]);export{M as default};
